{
    "DSURestorable.h": {
        "body": [
            "struct RestorableDSU {",
            "\tvector<int> s;",
            "\tstack<pair<int, int>> stk;",
            "\tRestorableDSU(int n) : s(n, -1) {}",
            "\tint find(int i) { return s[i] < 0 ? i : find(s[i]); }",
            "\tbool join(int a, int b) {",
            "\t\ta = find(a), b = find(b);",
            "\t\tif (a == b) return false;",
            "\t\tif (s[a] > s[b]) swap(a, b);",
            "\t\tstk.emplace(a, s[a]);",
            "\t\tstk.emplace(b, s[b]);",
            "\t\ts[a] += s[b], s[b] = a;",
            "\t\treturn true;",
            "\t}",
            "\tint time() { return stk.size(); }",
            "\tvoid revert(int t) {",
            "\t\twhile (stk.size() > t)",
            "\t\t\ts[stk.top().first] = stk.top().second, stk.pop();",
            "\t}",
            "\tint size(int i) { return -s[find(i)]; }",
            "\tbool same(int a, int b) { return find(a) == find(b); }",
            "};"
        ],
        "description": "Maintains union of disjoint sets, and can\nrevert to previous states.",
        "prefix": [
            "hack_DSURestorable"
        ]
    }
}